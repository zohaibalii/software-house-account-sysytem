{% extends "basic.html" %} {% block head %} {{ super() }} {% endblock %} {% block content %}
{% block title %}  {% endblock %}
<div class="content-wrapper ">
<div class="container pt-5">
<div class="col-sm-11 text-white bg-white px-3 py-3 mx-auto d-block  shadow">
<p class="dashboard-heading-1">
Add Data</p>

        {% for message in get_flashed_messages() %}
        <div class="alert alert-success text-center" role="alert">
            <p>{{ message }}</p>
        </div>
        {% endfor %}



        <form method="POST" action="/calls-add" enctype="multipart/form-data">
            <div id="form">
                     <div id="S1">
        <div class="row mt-1 ">


            <div class="mb-3 col-sm-6">
                        <label for="exampleInputEmail1" class="form-label">Name</label>
                        <input name="name" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                    </div>
        
        
                <div class="mb-3 col-sm-6">
                        <label for="exampleInputEmail1" class="form-label">Phone</label>
                        <input name="phone" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                    </div>


                    


                <div class="mb-3 col-sm-6">
                        <label for="exampleInputEmail1" class="form-label">country</label>
                        <input name="country" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                    </div>


                <div class="mb-3 col-sm-6">
                        <label for="exampleInputEmail1" class="form-label">City</label>
                        <input name="city" type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                    </div>


                <div class="mb-3 col-sm-6">
                        <label for="exampleInputEmail1" class="form-label">Date</label>
                        <input name="date" type="date" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">

                    </div>




                <div class="mb-3 col-sm-6">
                        <label for="floatingTextarea2">Reason</label>
                        <textarea name="reason" class="form-control" placeholder="Describe Maintenance Detail Here" id="floatingTextarea2" style="height: 100px"></textarea>


                    </div>

                     


                

<!-- 
</div>
<button type="submit " class="mt-2 dashboard-btn-1 mx-auto d-block">Add Hotel</button> -->

<button class="btn au-btn--green btn-sm" id="1" onclick="addnew(this.id)"
                                            type="button">
                                        <i class="fa fa-plus"></i> Add More
                                    </button>
</div> </div>
        </form>
</div></div></div>




        {% endblock %} {% block script %}
        <script>

            
    function addnew(clickedid) {
        var id = clickedid + 1;
        var newid = parseInt(clickedid,10) + 1;
    


        $('#form').append('<div id="S' + id + '">\n' +
            
            ' <div class="col">\n' +
            '\n' +
            
            '  </div>\n' +
'                                                    <div class="col" align="right">\n' +
'                                                        <button id="B' + id + '" style="align-items: center"\n' +
'                                                                onclick="remove(this.id)"><span\n' +
'                                                                class="fa fa-minus"></span>\n' +
'                                                        </button>\n' +
'                                                    </div>\n' +
'                                                </div>\n' +
            '\n' +
            '                                            </div>\n' +
            '     <div class="card-body card-block">\n' +
            '\n' +
            '\n' +
            '                  <div class="row ">\n' +
            '                          <div class="col-sm-6 mb-3">\n' +
            '                               <label for="Name" class=" form-control-label">Name</label>\n' +
            '                                                        <input type="text" id="Name" name="name"\n' +
            '                                                               placeholder="Date"\n' +
            '                                                               class="input-sm form-control-sm form-control">\n' +
            '                                                    </div>\n' +

            '                                                    <div class="col-sm-6 mb-3">\n' +
            '                                                        <label for="Phone" class=" form-control-label">Phone</label>\n' +
            '                                                        <input type="text"  id="Phone" name="phone"\n' +
            '                                                               class="input-sm form-control-sm form-control">\n' +
            '                                                </div>\n' +

            '                                                    <div class="col-sm-6 mb-3">\n' +
            '                                                        <label for="country" class=" form-control-label">country</label>\n' +
            '                                                        <input type="text" id="country" name="country"\n' +
            '                                                               class="input-sm form-control-sm form-control">\n' +
            '                                                </div>\n' +
            '                                                    <div class="col-sm-6 mb-3">\n' +
            '                                                        <label for="City" class=" form-control-label">City </label>\n' +
            '                                                        <input type="text" id="City" name="city"\n' +
            '                                                               class="input-sm form-control-sm form-control">\n' +
            '                                                    </div>\n' +
            '                                                    <div class="col-sm-6 mb-3">\n' +
            '                                                        <label for="Jtype" class=" form-control-label">Date </label>\n' +
            '                                                        <input type="date" id="hotel" name="date"\n' +
            '                                                               class="input-sm form-control-sm form-control">\n' +
            '                                                    </div>\n' +

            '                                                    <div class="col-sm-6 mb-3">\n' +
            '                              <label for="reason" class=" form-control-label">Reason</label>\n' +
            '    <textarea  type="text" id="reason" name="reason"  class="input-sm form-control-sm form-control"></textarea>\n' +   

            '                                                    </div>\n' +



            '\n' +
            '\n' +
            '                                            </div>\n' +
            '                                        </div>\n' +
            '                                    </div>\n' +
            '\n' +
            '                                    <div id="s' + id + '" `class="card-footer">\n' +
            '                                        <button type="submit" class="btn btn-primary btn-sm">\n' +
            '                                            <i class="fa fa-dot-circle-o"></i> Submit\n' +
            '                                        </button>\n' +
            '                                        <button type="button" id="' + id + '" onclick="addnew(this.id)"\n' +
            '                                                class="btn au-btn--green btn-sm">\n' +
            '                                            <i class="fa fa-plus"></i> Add More\n' +
            '                                        </button>\n' +
            '                                    </div>\n' +
            '                                </div>');
          


    }

          function remove(id) {
        var id = id.split("B");

        document.getElementById("S" + id[1] + "").remove();

    }








            function changeSubCategory(id) {
                removeAll(document.getElementById("categorynamenew"));
                var option = document.createElement("option");
                option.text = "Select City";
                option.value = "";
                var select = document.getElementById("categorynamenew");
                select.appendChild(option);


                var catid = id;

                {% for i in subcat %}
                if (catid == {{i[2]}}) {
                    var option = document.createElement("option");
                    option.text = "{{i[1]}}";
                    option.value = "{{i[0]}}";
                    var select = document.getElementById("categorynamenew");
                    select.appendChild(option);

                } {% endfor %}}

            function removeAll(selectBox) {
                while (selectBox.options.length > 0) {
                    selectBox.remove(0);
                }
            }


            function changehotel(id) {
                removeAll(document.getElementById("hotel"));
                var option = document.createElement("option");
                option.text = "Select Hotel";
                option.value = "";
                var select = document.getElementById("hotel");
                select.appendChild(option);


                var catid = id;

                {% for i in hotel %}
                if (catid == {{i[2]}}) {
                    var option = document.createElement("option");
                    option.text = "{{i[3]}}";
                    option.value = "{{i[0]}}";
                    var select = document.getElementById("hotel");
                    select.appendChild(option);

                } {% endfor %}}

        </script>

        
        {% endblock %}